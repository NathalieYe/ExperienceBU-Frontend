{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport Dropzone from 'react-dropzone';\nimport { FileUploadField } from './FileUploadField';\nimport { readFile, fileReaderType } from '../../helpers/fileUtils';\nexport const FileUpload = _ref => {\n  let {\n    id,\n    type,\n    value = type === fileReaderType.text || type === fileReaderType.dataURL ? '' : null,\n    filename = '',\n    children = null,\n    onChange = () => {},\n    onReadStarted = () => {},\n    onReadFinished = () => {},\n    onReadFailed = () => {},\n    dropzoneProps = {}\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"id\", \"type\", \"value\", \"filename\", \"children\", \"onChange\", \"onReadStarted\", \"onReadFinished\", \"onReadFailed\", \"dropzoneProps\"]);\n\n  const onDropAccepted = (acceptedFiles, event) => {\n    if (acceptedFiles.length > 0) {\n      const fileHandle = acceptedFiles[0];\n\n      if (type === fileReaderType.text || type === fileReaderType.dataURL) {\n        onChange('', fileHandle.name, event); // Show the filename while reading\n\n        onReadStarted(fileHandle);\n        readFile(fileHandle, type).then(data => {\n          onReadFinished(fileHandle);\n          onChange(data, fileHandle.name, event);\n        }).catch(error => {\n          onReadFailed(error, fileHandle);\n          onReadFinished(fileHandle);\n          onChange('', '', event); // Clear the filename field on a failure\n        });\n      } else {\n        onChange(fileHandle, fileHandle.name, event);\n      }\n    }\n\n    dropzoneProps.onDropAccepted && dropzoneProps.onDropAccepted(acceptedFiles, event);\n  };\n\n  const onDropRejected = (rejectedFiles, event) => {\n    if (rejectedFiles.length > 0) {\n      onChange('', rejectedFiles[0].name, event);\n    }\n\n    dropzoneProps.onDropRejected && dropzoneProps.onDropRejected(rejectedFiles, event);\n  };\n\n  const onClearButtonClick = event => {\n    onChange('', '', event);\n  };\n\n  return React.createElement(Dropzone, _extends({\n    multiple: false\n  }, dropzoneProps, {\n    onDropAccepted: onDropAccepted,\n    onDropRejected: onDropRejected\n  }), ({\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    open\n  }) => React.createElement(FileUploadField, _extends({}, getRootProps(_objectSpread({}, props, {\n    refKey: 'containerRef',\n    onClick: event => event.preventDefault() // Prevents clicking TextArea from opening file dialog\n\n  })), {\n    tabIndex: null // Omit the unwanted tabIndex from react-dropzone's getRootProps\n    ,\n    id: id,\n    type: type,\n    filename: filename,\n    value: value,\n    onChange: onChange,\n    isDragActive: isDragActive,\n    onBrowseButtonClick: open,\n    onClearButtonClick: onClearButtonClick\n  }), React.createElement(\"input\", getInputProps()), children));\n};\nFileUpload.propTypes = {\n  id: _pt.string.isRequired,\n  type: _pt.oneOf(['text', 'dataURL']),\n  value: _pt.oneOfType([_pt.string, _pt.any]),\n  filename: _pt.string,\n  onChange: _pt.func,\n  className: _pt.string,\n  isDisabled: _pt.bool,\n  isReadOnly: _pt.bool,\n  isLoading: _pt.bool,\n  spinnerAriaValueText: _pt.string,\n  isRequired: _pt.bool,\n  validated: _pt.oneOf(['success', 'error', 'default']),\n  'aria-label': _pt.string,\n  filenamePlaceholder: _pt.string,\n  filenameAriaLabel: _pt.string,\n  browseButtonText: _pt.string,\n  clearButtonText: _pt.string,\n  hideDefaultPreview: _pt.bool,\n  allowEditingUploadedText: _pt.bool,\n  children: _pt.node,\n  onReadStarted: _pt.func,\n  onReadFinished: _pt.func,\n  onReadFailed: _pt.func,\n  dropzoneProps: _pt.any\n};","map":{"version":3,"sources":["C:/Users/tungb/Desktop/ExperienceBU/experiencebu/node_modules/@patternfly/react-core/dist/esm/components/FileUpload/FileUpload.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","React","Dropzone","FileUploadField","readFile","fileReaderType","FileUpload","_ref","id","type","text","dataURL","filename","children","onChange","onReadStarted","onReadFinished","onReadFailed","dropzoneProps","props","onDropAccepted","acceptedFiles","event","fileHandle","name","then","data","catch","error","onDropRejected","rejectedFiles","onClearButtonClick","createElement","multiple","getRootProps","getInputProps","isDragActive","open","refKey","onClick","preventDefault","tabIndex","onBrowseButtonClick","propTypes","string","isRequired","oneOf","oneOfType","any","func","className","isDisabled","bool","isReadOnly","isLoading","spinnerAriaValueText","validated","filenamePlaceholder","filenameAriaLabel","browseButtonText","clearButtonText","hideDefaultPreview","allowEditingUploadedText","node"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport Dropzone from 'react-dropzone';\nimport { FileUploadField } from './FileUploadField';\nimport { readFile, fileReaderType } from '../../helpers/fileUtils';\nexport const FileUpload = (_ref) => {\n  let {\n    id,\n    type,\n    value = type === fileReaderType.text || type === fileReaderType.dataURL ? '' : null,\n    filename = '',\n    children = null,\n    onChange = () => {},\n    onReadStarted = () => {},\n    onReadFinished = () => {},\n    onReadFailed = () => {},\n    dropzoneProps = {}\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"id\", \"type\", \"value\", \"filename\", \"children\", \"onChange\", \"onReadStarted\", \"onReadFinished\", \"onReadFailed\", \"dropzoneProps\"]);\n\n  const onDropAccepted = (acceptedFiles, event) => {\n    if (acceptedFiles.length > 0) {\n      const fileHandle = acceptedFiles[0];\n\n      if (type === fileReaderType.text || type === fileReaderType.dataURL) {\n        onChange('', fileHandle.name, event); // Show the filename while reading\n\n        onReadStarted(fileHandle);\n        readFile(fileHandle, type).then(data => {\n          onReadFinished(fileHandle);\n          onChange(data, fileHandle.name, event);\n        }).catch(error => {\n          onReadFailed(error, fileHandle);\n          onReadFinished(fileHandle);\n          onChange('', '', event); // Clear the filename field on a failure\n        });\n      } else {\n        onChange(fileHandle, fileHandle.name, event);\n      }\n    }\n\n    dropzoneProps.onDropAccepted && dropzoneProps.onDropAccepted(acceptedFiles, event);\n  };\n\n  const onDropRejected = (rejectedFiles, event) => {\n    if (rejectedFiles.length > 0) {\n      onChange('', rejectedFiles[0].name, event);\n    }\n\n    dropzoneProps.onDropRejected && dropzoneProps.onDropRejected(rejectedFiles, event);\n  };\n\n  const onClearButtonClick = event => {\n    onChange('', '', event);\n  };\n\n  return React.createElement(Dropzone, _extends({\n    multiple: false\n  }, dropzoneProps, {\n    onDropAccepted: onDropAccepted,\n    onDropRejected: onDropRejected\n  }), ({\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    open\n  }) => React.createElement(FileUploadField, _extends({}, getRootProps(_objectSpread({}, props, {\n    refKey: 'containerRef',\n    onClick: event => event.preventDefault() // Prevents clicking TextArea from opening file dialog\n\n  })), {\n    tabIndex: null // Omit the unwanted tabIndex from react-dropzone's getRootProps\n    ,\n    id: id,\n    type: type,\n    filename: filename,\n    value: value,\n    onChange: onChange,\n    isDragActive: isDragActive,\n    onBrowseButtonClick: open,\n    onClearButtonClick: onClearButtonClick\n  }), React.createElement(\"input\", getInputProps()), children));\n};\nFileUpload.propTypes = {\n  id: _pt.string.isRequired,\n  type: _pt.oneOf(['text', 'dataURL']),\n  value: _pt.oneOfType([_pt.string, _pt.any]),\n  filename: _pt.string,\n  onChange: _pt.func,\n  className: _pt.string,\n  isDisabled: _pt.bool,\n  isReadOnly: _pt.bool,\n  isLoading: _pt.bool,\n  spinnerAriaValueText: _pt.string,\n  isRequired: _pt.bool,\n  validated: _pt.oneOf(['success', 'error', 'default']),\n  'aria-label': _pt.string,\n  filenamePlaceholder: _pt.string,\n  filenameAriaLabel: _pt.string,\n  browseButtonText: _pt.string,\n  clearButtonText: _pt.string,\n  hideDefaultPreview: _pt.bool,\n  allowEditingUploadedText: _pt.bool,\n  children: _pt.node,\n  onReadStarted: _pt.func,\n  onReadFinished: _pt.func,\n  onReadFailed: _pt.func,\n  dropzoneProps: _pt.any\n};\n//# sourceMappingURL=FileUpload.js.map"]},"metadata":{},"sourceType":"module"}